{"version":3,"file":"static/js/692.4c30324d.chunk.js","mappings":"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","sources":["components/pages/MoviesPage/MoviesPage.js"],"sourcesContent":["import { Loader } from 'components/Loader/Loader';\nimport { searchMovies } from 'components/api';\nimport { useEffect, useState } from 'react';\nimport toast from 'react-hot-toast';\nimport { IoIosPhotos, IoMdSearch } from 'react-icons/io';\nimport { NavLink, useLocation, useSearchParams } from 'react-router-dom';\n\nexport default function MoviesPage() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [movies, setMovies] = useState([]);\n  const [params, setParams] = useSearchParams();\n\n  const searchedMovie = params.get('movie') ?? '';\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      setIsLoading(true);\n      try {\n        if (!searchedMovie) {\n          return;\n        }\n        const { results } = await searchMovies(searchedMovie);\n        if (!results) {\n          return;\n        }\n        setMovies(results);\n      } catch (error) {\n        toast.error('Oops! Something went wrong. Please try again later.');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchMovie();\n  }, [searchedMovie]);\n\n  const location = useLocation();\n\n  const onSearch = evt => {\n    evt.preventDefault();\n    const { value } = evt.target.elements.movie;\n    if (value) {\n      setParams({ movie: value });\n      evt.target.reset();\n    }\n  };\n\n  return (\n    <>\n      <form onSubmit={onSearch}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search movie\"\n          name=\"movie\"\n        />\n        <button type=\"submit\">\n          <IoMdSearch size=\"24\" />\n        </button>\n      </form>\n      {isLoading && <Loader />}\n\n      {movies.length > 0 && !isLoading && (\n        <div>\n          <ul>\n            {movies.length > 0 &&\n              movies.map(movie => {\n                const { id, title, poster_path } = movie;\n                const BASE_URL = 'https://image.tmdb.org/t/p/w200';\n                const photo = BASE_URL + poster_path;\n\n                return (\n                  <li key={id}>\n                    <NavLink to={`${id}`} state={{ from: location }}>\n                      {poster_path ? (\n                        <img src={photo} alt={title} />\n                      ) : (\n                        <IoIosPhotos\n                          style={{\n                            width: '200px',\n                            height: '200px',\n                            color: '#8080803b',\n                          }}\n                        />\n                      )}\n                      <h3>{title}</h3>\n                    </NavLink>\n                  </li>\n                );\n              })}\n          </ul>\n        </div>\n      )}\n\n      {movies.length === 0 && !isLoading && searchedMovie && (\n        <div>Movie \"{searchedMovie}\" not found. Please try again.</div>\n      )}\n    </>\n  );\n}\n"],"names":["MoviesPage","_params$get","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","movies","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","params","setParams","searchedMovie","get","useEffect","fetchMovie","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$searchMovies","results","_context","prev","next","abrupt","searchMovies","sent","t0","toast","finish","stop","apply","arguments","location","useLocation","_jsxs","_Fragment","children","onSubmit","evt","preventDefault","value","target","elements","movie","reset","_jsx","type","autoComplete","placeholder","name","IoMdSearch","size","Loader","length","map","id","title","poster_path","photo","NavLink","to","concat","state","from","src","alt","IoIosPhotos","style","width","height","color"],"sourceRoot":""}