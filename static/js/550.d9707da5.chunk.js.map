{"version":3,"file":"static/js/550.d9707da5.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/pages/MoviesPage/MoviePage.module.css?f0ce","components/pages/MoviesPage/MoviesPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"inputWrap\":\"MoviePage_inputWrap__Kk+LD\",\"inputField\":\"MoviePage_inputField__b7NJ9\",\"searchBtn\":\"MoviePage_searchBtn__PXDXh\",\"warning\":\"MoviePage_warning__3fPhk\",\"wrap\":\"MoviePage_wrap__0ytMT\",\"moviesList\":\"MoviePage_moviesList__8S5Lp\",\"card\":\"MoviePage_card__t+VmJ\",\"cardLink\":\"MoviePage_cardLink__hxxDY\",\"movieName\":\"MoviePage_movieName__U8fRw\"};","import { Loader } from 'components/Loader/Loader';\nimport { searchMovies } from 'components/api';\nimport { useEffect, useState } from 'react';\nimport toast from 'react-hot-toast';\nimport { IoIosPhotos, IoMdSearch } from 'react-icons/io';\nimport { NavLink, useLocation, useSearchParams } from 'react-router-dom';\nimport css from './MoviePage.module.css';\n\nexport default function MoviesPage() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [movies, setMovies] = useState([]);\n  const [params, setParams] = useSearchParams();\n\n  const searchedMovie = params.get('movie') ?? '';\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      setIsLoading(true);\n      try {\n        if (!searchedMovie) {\n          return;\n        }\n        const { results } = await searchMovies(searchedMovie);\n        if (!results) {\n          return;\n        }\n        setMovies(results);\n      } catch (error) {\n        toast.error('Oops! Something went wrong. Please try again later.');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchMovie();\n  }, [searchedMovie]);\n\n  const location = useLocation();\n\n  const onSearch = evt => {\n    evt.preventDefault();\n    const { value } = evt.target.elements.movie;\n    if (value) {\n      setParams({ movie: value });\n      evt.target.reset();\n    }\n  };\n\n  return (\n    <>\n      <form className={css.inputWrap} onSubmit={onSearch}>\n        <input\n          className={css.inputField}\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search movie\"\n          name=\"movie\"\n        />\n        <button className={css.searchBtn} type=\"submit\">\n          <IoMdSearch size=\"24\" />\n        </button>\n      </form>\n      {isLoading && <Loader />}\n\n      {movies.length > 0 && !isLoading && (\n        <div className={css.wrap}>\n          <ul className={css.moviesList}>\n            {movies.length > 0 &&\n              movies.map(movie => {\n                const { id, title, poster_path } = movie;\n                const BASE_URL = 'https://image.tmdb.org/t/p/w200';\n                const photo = BASE_URL + poster_path;\n\n                return (\n                  <li className={css.card} key={id}>\n                    <NavLink\n                      className={css.cardLink}\n                      to={`${id}`}\n                      state={{ from: location }}\n                    >\n                      {poster_path ? (\n                        <img src={photo} alt={title} />\n                      ) : (\n                        <IoIosPhotos\n                          style={{\n                            width: '200px',\n                            height: '280px',\n                            color: '#8080803b',\n                          }}\n                        />\n                      )}\n                      <div className={css.movieName}>{title}</div>\n                    </NavLink>\n                  </li>\n                );\n              })}\n          </ul>\n        </div>\n      )}\n\n      {movies.length === 0 && !isLoading && searchedMovie && (\n        <div className={css.warning}>\n          Movie \"{searchedMovie}\" not found. Please try again.\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":["MoviesPage","_params$get","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","movies","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","params","setParams","searchedMovie","get","useEffect","fetchMovie","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$searchMovies","results","_context","prev","next","abrupt","searchMovies","sent","t0","toast","finish","stop","apply","arguments","location","useLocation","_jsxs","_Fragment","children","className","css","onSubmit","evt","preventDefault","value","target","elements","movie","reset","_jsx","type","autoComplete","placeholder","name","IoMdSearch","size","Loader","length","map","id","title","poster_path","photo","NavLink","to","concat","state","from","src","alt","IoIosPhotos","style","width","height","color"],"sourceRoot":""}